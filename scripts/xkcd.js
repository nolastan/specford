// Autogenerated by Specford.
var page, rPage = require('webpage'), test = require('../src/utils/test'),
steps = [function(status) {
if(status !== 'success') console.log('Network error');
else {
test.start(new Date().getTime());
test.selectorExists('#topContainer #masthead');
test.selectorHasText('#topContainer #masthead', 'A webcomic of');
test.selectorHasText('#topContainer #news', 'You can get');
test.selectorExists('#middleContainer #ctitle');
test.selectorHasText('#middleContainer', 'Sandwich');
test.click('#middleContainer .comicNav a[rel="next"]');
page.onUrlChanged = function(targetUrl) {next(targetUrl);};
}
},function(status) {
if(status !== 'success') console.log('Network error');
else {
test.urlMatches(/xkcd.com\/150/);
test.selectorHasText('#middleContainer', 'Grownups');
test.stop(new Date().getTime());
test.report(7);
phantom.exit();
}
}],
next = function(url) {
if(page) page.close();
page = rPage.create();
page.open(url, steps.shift());
};
next('http://xkcd.com/149');